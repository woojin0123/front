<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0">
    <title>MEET PLAY SHARE, 메가박스</title>
    <style>
        @import url(css/reset.css);

        .box_office {
            display: flex;
            gap: 40px;
            flex-wrap: wrap;
        }

        .box_office_card {
            width: 245px;
            position: relative;
        }

        .box_office_card .rank {
            position: absolute;
            left: 10px;
            top: 10px;
            font-size: 2rem;
            font-weight: 300;
            font-style: italic;
            color: #fff;
            text-shadow: 2px 2px 2px #000;
        }

        .box_office_card .poster {
            height: 352px;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .box_office_card .screen_type {
            position: absolute;
            width: 60px;
            left: 10px;
            bottom: 10px;
        }

        .box_office_card .screen_type img {
            display: block;
            margin-bottom: 2px;
        }

        .box_office_card .movie_grade {
            position: absolute;
            width: 28px;
            right: 10px;
            bottom: 10px;
        }

        .box_office_card .btn {
            display: flex;
            gap: 8px;
        }

        .box_office_card .like {
            width: 100px;
            height: 34px;
            border: 1px solid #fff;
            background: transparent;
            color: #fff;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .box_office_card .like i {
            margin-right: 8px;
        }

        .box_office_card .like.active i {
            color: red;
        }

        .box_office_card .reservation_link {
            background: #037b94;
            width: 100%;
            height: 36px;
            line-height: 36px;
            border-radius: 5px;
            text-align: center;
            color: #fff;
            text-decoration: none;
        }

        .box_office_card .poster_wrap {
            position: relative;
            height: 352px;
            perspective: 1000px;
            margin-bottom: 8px;
        }

        .box_office_card .poster_front,
        .box_office_card .poster_back {
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            border-radius: 5px;
            overflow: hidden;
            backface-visibility: hidden;
            transform-style: preserve-3d;
            transition: transform .6s;
        }

        .box_office_card .poster_front {
            transform: rotateY(0deg);
        }

        .box_office_card .poster_back {
            color: #fff;
            padding: 24px;
            transform: rotateY(180deg);
        }

        .box_office_card .poster_back::before {
            content: '';
            position: absolute;
            z-index: -1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            filter: brightness(30%);
            background-size: cover;
            background-position: center;
        }
        
        .box_office_card:nth-of-type(1) .poster_back::before {
            background-image: url(images/YiSbqEf6OvFcDoLoQCipDojOHqMCwKG4_420.jpg);
        }
        .box_office_card:nth-of-type(2) .poster_back::before {
            background-image: url(images/zRSHfdUWIaRvX73R2mpB6a5WHEyqilwA_420.jpg);
        }
        .box_office_card:nth-of-type(3) .poster_back::before {
            background-image: url(images/QbA0Xu2pYIIskq4gziFxbiq6eL9N2i0w_420.jpg);
        }
        .box_office_card:nth-of-type(4) .poster_back::before {
            background-image: url(images/nsOm6ZHz6sFsfDNiZXluV3aEw4ymvmHm_420.jpg);
        }

        .box_office_card .poster_back .score {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: 30px;
        }

        .box_office_card .poster_back .score span {
            margin-left: 16px;
            font-size: 1.5rem;
            color: #59bec9;
        }

        .box_office_card .poster_wrap:hover .poster_front {
            transform: rotateY(180deg);
        }

        .box_office_card .poster_wrap:hover .poster_back {
            transform: rotateY(360deg);
        }

    </style>
</head>

<body>
    <div class="box_office" id="box_office"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script>
        // --- 카드 데이터 배열 ---
const movies = [
    {
        rank: 1,
        title: "쥬토피아",
        poster: "images/YiSbqEf6OvFcDoLoQCipDojOHqMCwKG4_420.jpg",
        screenTypes: ["images/type_mega_mx4d.png", "images/type_dolbycinema.png", "images/type_dolbyatmos.png"],
        grade: "images/ALL_56x56.png",
        description: "더 화려해진 세계, 더 넓어진 주<br>토피아!<br> 디즈니의 가~~장 사랑스러운 콤<br>비 '주디'와 '닉'이 돌아온다!<br><br> 미스터리한 뱀 '게리'가 나타난 순간.",
        score: 9.3,
        like: 3600
    },
    {
        rank: 2,
        title: "주술회전",
        poster: "images/zRSHfdUWIaRvX73R2mpB6a5WHEyqilwA_420.jpg",
        screenTypes: ["images/type_mega_mx4d.png"],
        grade: "images/15_56x56.png",
        description: "2018년 10월 31일<br>시부야 역 주변에 갑자기 '장<br>막'이 내려지고, 다수의 일반인이 갇히게 된다.<br>그곳에 홀로 뛰어든 현대 최강의<br>주술사, 고죠 사토루.<br>그러나 그곳에는 고죠의 봉인을",
        score: 9,
        like: 1300
    },
    {
        rank: 3,
        title: "정보원",
        poster: "images/QbA0Xu2pYIIskq4gziFxbiq6eL9N2i0w_420.jpg",
        screenTypes: [],
        grade: "images/15_56x56.png",
        description: "'나 오늘 거기 털고 옷 벗는다'<br><br>공들인 작전 실패로 강등당한 후<br>열정도, 의지도, 수사 감각도 모<br>두 잃은 형사 오남혁.<br> 이제 그가 바라는 것은 오로지 한탕과 은퇴뿐.",
        score: 8.5,
        like: 142
    },
    {
        rank: 4,
        title: "윗집사람들",
        poster: "images/nsOm6ZHz6sFsfDNiZXluV3aEw4ymvmHm_420.jpg",
        screenTypes: [],
        grade: "images/19_112x112.png",
        description: "세상의 부부들은 정말 밤마다 사랑을 나눌까?<br>너희도 솔직해지고 싶지 않아?<br><br>불같던 결혼 생활은 사라지고 무미건조한 일상만 남은 정아(공효진)와 현수(김동욱).",
        score: 8.3,
        like: 237
    }
];
    </script>
    <script>
        // --- 숫자 k 변환 함수 ---
        const formatCount = (num) => num >= 1000 ? (num / 1000).toFixed(1) + "k" : num;

        // --- 카드 UI 생성 ---
        movies.forEach(movie => {
            const screenImgs = movie.screenTypes.map(src => `<img src="${src}" alt="Screen Type">`).join('');

            const card = $(`
                <div class="box_office_card">
                    <div class="poster_wrap">
                        <div class="poster_front">
                            <span class="rank">${movie.rank}</span>
                            <div class="poster">
                                <img src="${movie.poster}" alt="${movie.title}">
                            </div>
                            <div class="screen_type">${screenImgs}</div>
                            <div class="movie_grade">
                                <img src="${movie.grade}" alt="Movie Grade">
                            </div>
                        </div>
                        <div class="poster_back" style="background-image:url(${movie.poster})">
                            <p>${movie.description}</p>
                            <div class="score">관람평<span>${movie.score}</span></div>
                        </div>
                    </div>
                    <div class="btn">
                        <button type="button" class="like"><i class="fa-regular fa-heart"></i>${formatCount(movie.like)}</button>
                        <a href="https://www.megabox.co.kr/booking" class="reservation_link">예매</a>
                    </div>
                </div>
            `);

            $("#box_office").append(card);
        });

        // --- 좋아요 클릭 이벤트 ---
        $(document).on('click', '.like', function () {
            let $btn = $(this);
            let text = $btn.text();
            let current = parseFloat(text);
            if (text.includes('k')) current *= 1000;

            if ($btn.hasClass('active')) {
                current -= 1;
                $btn.removeClass('active');
                $btn.find('i').attr('class', 'fa-regular fa-heart');
            } else {
                current += 1;
                $btn.addClass('active');
                $btn.find('i').attr('class', 'fa-solid fa-heart');
            }

            $btn.contents().last()[0].textContent = formatCount(current);
        });

    </script>
</body>

</html>